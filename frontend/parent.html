<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ö–∞–±–∏–Ω–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è ‚Äî –†–∞–∑–≤–∏–¢–∞–π–º</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
    .parent-section {
      display: none;
    }
    
    .parent-section.active {
      display: block;
    }
    
    .tab-btn.active {
      background-color: #52a655;
      color: white;
    }
    
    .split-card {
      background: white;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .activities-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    
    .activity-card {
      background: white;
      border-radius: 8px;
      padding: 16px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }
    
    .activity-tags {
      display: flex;
      gap: 8px;
      margin: 8px 0;
    }
    
    .tag-chip {
      background: #f0f4ff;
      padding: 4px 12px;
      border-radius: 16px;
      font-size: 14px;
    }
    
    .upcoming-list {
      list-style: none;
      padding: 0;
    }
    
    .upcoming-list li {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }
    
    .reviews-carousel {
      position: relative;
      height: 140px;
      overflow: hidden;
    }
    
    .review-slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      opacity: 0;
      transition: opacity 0.5s;
    }
    
    .review-slide.active {
      opacity: 1;
    }
    
    .schedule-table {
      width: 100%;
      border-collapse: collapse;
    }
    
    .schedule-table th, .schedule-table td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: center;
    }
    
    .schedule-badge {
      padding: 6px;
      margin: 4px 0;
      border-radius: 4px;
      font-size: 12px;
    }
    
    .kid-colors-list {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }
    
    .kid-color-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }
  </style>
</head>
<body>

<header class="app-header">
  <div class="container app-header-inner">
    <div class="logo-block">
      <div class="logo-texts">
        <div class="logo-text-main">–†–∞–∑–≤–∏–¢–∞–π–º</div>
        <div class="logo-text-sub">—É–º–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Å–µ–º—å–∏</div>
      </div>
    </div>

    <nav class="nav-links">
      <div class="nav-notifications">
        <button
          class="icon-button"
          type="button"
          id="notifications-bell"
          title="–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"
        >
          üîî
          <span class="notifications-badge" id="notifications-badge" hidden></span>
        </button>

        <div class="notifications-dropdown" id="notifications-dropdown">
          <!-- –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–¥—Å—Ç–∞–≤–∏—Ç JS -->
        </div>
      </div>

      <button class="btn btn-outline btn-sm" type="button" id="logout-btn">
        –í—ã–π—Ç–∏
      </button>
    </nav>
  </div>
</header>


<main class="page-parent">
  <div class="container parent-layout">
    <!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é -->
    <aside class="parent-sidebar">
      <button class="tab-btn active" data-section="dashboard-section">
        –ì–ª–∞–≤–Ω–∞—è
      </button>
      <button class="tab-btn" data-section="kids-section">
        –ú–æ–∏ –¥–µ—Ç–∏
      </button>
      <button class="tab-btn" data-section="schedule-section">
        –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
      </button>
      <button class="tab-btn" data-section="search-section">
        –ù–∞–π—Ç–∏ –∑–∞–Ω—è—Ç–∏—è
      </button>
      <button class="tab-btn" data-section="profile-section">
        –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
      </button>
      <button class="tab-btn" data-section="help-section">
        –ü–æ–º–æ—â—å
      </button>
    </aside>

    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
    <section class="parent-main">
      <!-- 2.1. –î–∞—à–±–æ—Ä–¥ (–ì–ª–∞–≤–Ω–∞—è) -->
      <section id="dashboard-section" class="parent-section active">
        <div class="section-header">
          <h1 class="section-title">–ì–ª–∞–≤–Ω–æ–µ</h1>
          <p class="section-subtitle">
            –ó–¥–µ—Å—å —Ä–æ–¥–∏—Ç–µ–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–µ—Ç—å–º–∏, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –†–∞–∑–≤–∏–¢–∞–π–º.
          </p>
        </div>

        <div class="split-cards">
          <!-- –õ–µ–≤—ã–π –±–ª–æ–∫: –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ + –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
          <div id="parent-greeting" class="split-card">
            –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–æ–¥–∏—Ç–µ–ª—è...
          </div>

          <!-- –ü—Ä–∞–≤—ã–π –±–ª–æ–∫: –±–ª–∏–∂–∞–π—à–∏–µ –∑–∞–Ω—è—Ç–∏—è + –∫–∞—Ä—É—Å–µ–ª—å –æ—Ç–∑—ã–≤–æ–≤ -->
          <div class="split-card">
            <h3>–ë–ª–∏–∂–∞–π—à–∏–µ –∑–∞–Ω—è—Ç–∏—è</h3>
            <div id="parent-upcoming">
              –ó–∞–≥—Ä—É–∑–∫–∞ –±–ª–∏–∂–∞–π—à–∏—Ö –∑–∞–Ω—è—Ç–∏–π...
            </div>

            <div class="reviews-block">
              <div class="reviews-header">
                <h3>–û—Ç–∑—ã–≤—ã —Ä–æ–¥–∏—Ç–µ–ª–µ–π –æ —Ü–µ–Ω—Ç—Ä–∞—Ö</h3>
                <div class="reviews-dots" id="reviews-dots"></div>
              </div>
              <div class="reviews-carousel" id="reviews-carousel">
                <!-- –°–ª–∞–π–¥—ã –±—É–¥—É—Ç –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã JS -->
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 2.3. –ú–æ–∏ –¥–µ—Ç–∏ -->
      <section id="kids-section" class="parent-section">
        <div class="section-header">
          <h2>–ú–æ–∏ –¥–µ—Ç–∏</h2>
          <button class="btn btn-primary btn-sm" id="add-kid-btn">+ –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±—ë–Ω–∫–∞</button>
        </div>

        <div id="kids-list" style="margin-top:16px;"></div>

        <!-- —Ñ–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div id="kid-form-block" class="reminders-card" style="display:none; margin-top:16px;">
          <h3 id="kid-form-title">–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±—ë–Ω–∫–∞</h3>
          <div class="auth-field">
            <label>–ò–º—è</label>
            <input type="text" id="kid-name">
          </div>
          <div class="auth-field">
            <label>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
            <input type="date" id="kid-birth">
          </div>
          <div class="auth-field">
            <label>–ü–æ–ª</label>
            <select id="kid-gender">
              <option value="">–ù–µ —É–∫–∞–∑–∞–Ω–æ</option>
              <option value="female">–î–µ–≤–æ—á–∫–∞</option>
              <option value="male">–ú–∞–ª—å—á–∏–∫</option>
            </select>
          </div>
          <div class="auth-field">
            <label>–§–æ—Ç–æ (URL)</label>
            <input type="text" id="kid-photo" placeholder="https://...">
          </div>
          <div style="display:flex; gap:8px; margin-top:8px;">
            <button class="btn btn-primary btn-sm" id="kid-save-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="btn btn-outline btn-sm" id="kid-cancel-btn">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </div>
      </section>

      <!-- 2.5. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ (—à–∫–æ–ª—å–Ω–æ–µ + –∫—Ä—É–∂–∫–∏) -->
      <section id="schedule-section" class="parent-section">
        <div class="section-header">
          <h1 class="section-title">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–µ—Ç–µ–π</h1>
          <p class="section-subtitle">
            –û–±—â–∏–π –≤–∏–¥: —à–∫–æ–ª—å–Ω—ã–µ —É—Ä–æ–∫–∏ + –∫—Ä—É–∂–∫–∏, –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏.
          </p>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º -->
        <div class="split-card">
          <div class="schedule-controls-row" style="display: flex; gap: 20px; flex-wrap: wrap;">
            <div>
              <label class="filter-label" for="schedule-kid-filter">–†–µ–±—ë–Ω–æ–∫</label>
              <select id="schedule-kid-filter" class="filter-select">
                <option value="all">–í—Å–µ –¥–µ—Ç–∏</option>
                <!-- –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç JS -->
              </select>
            </div>

            <div>
              <span class="filter-label">–í–∏–¥ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</span>
              <div class="schedule-view-toggle">
                <button class="view-btn active" data-view="day">–î–µ–Ω—å</button>
                <button class="view-btn" data-view="week">–ù–µ–¥–µ–ª—è</button>
              </div>
            </div>

            <div>
              <span class="filter-label">–≠–∫—Å–ø–æ—Ä—Ç</span>
              <button class="btn btn-outline btn-sm" id="export-schedule-btn">
                –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –∫–∞—Ä—Ç–∏–Ω–∫—É
              </button>
            </div>
          </div>

          <!-- —Ñ–∏–ª—å—Ç—Ä —Ç–∏–ø–æ–≤ –∑–∞–Ω—è—Ç–∏–π -->
          <div class="schedule-filters-row" style="margin-top:10px;">
            <div>
              <span class="filter-label">–¢–∏–ø –∑–∞–Ω—è—Ç–∏–π</span>
              <div class="schedule-type-toggle">
                <label><input type="radio" name="schedule-type" value="all" checked> –í—Å–µ –≤–º–µ—Å—Ç–µ</label>
                <label><input type="radio" name="schedule-type" value="school"> –¢–æ–ª—å–∫–æ —à–∫–æ–ª–∞</label>
                <label><input type="radio" name="schedule-type" value="extras"> –¢–æ–ª—å–∫–æ –∫—Ä—É–∂–∫–∏</label>
              </div>
            </div>
          </div>
        </div>

        <!-- –¶–≤–µ—Ç–∞ –¥–µ—Ç–µ–π -->
        <div class="split-card" id="kid-colors-card" style="margin-top:12px; display:none;">
          <h3 style="margin-top:0;">–¶–≤–µ—Ç–∞ –¥–µ—Ç–µ–π</h3>
          <p class="section-subtitle">
            –ö–∞–∂–¥–æ–º—É —Ä–µ–±—ë–Ω–∫—É –º–æ–∂–Ω–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Ü–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–º –±—É–¥—É—Ç –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å—Å—è –µ–≥–æ –∑–∞–Ω—è—Ç–∏—è –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏.
          </p>
          <div id="kid-colors-list" class="kid-colors-list"></div>
        </div>

        <!-- –¢–∞–±–ª–∏—Ü–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
        <div class="split-card" style="margin-top:16px;">
          <div id="schedule-table-wrapper" class="schedule-table-wrapper">
            –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è...
          </div>
        </div>

        <!-- –ë–ª–æ–∫ —à–∫–æ–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
        <div class="split-card" style="margin-top:16px;">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
            <h3>–®–∫–æ–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
            <button class="btn btn-secondary btn-sm" id="toggle-school-form-btn">
              –î–æ–±–∞–≤–∏—Ç—å/–ò–∑–º–µ–Ω–∏—Ç—å —à–∫–æ–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
            </button>
          </div>

          <div id="school-lessons-list" class="section-subtitle" style="margin-bottom:10px;">
            –®–∫–æ–ª—å–Ω—ã–µ —É—Ä–æ–∫–∏ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –æ–±—â–µ–π —Ç–∞–±–ª–∏—Ü–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤—ã—à–µ.
          </div>

          <div id="school-form-container" style="display:none;">
            <div class="schedule-school-form">
              <div class="form-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                <label>
                  –†–µ–±—ë–Ω–æ–∫
                  <select id="school-kid-select"></select>
                </label>

                <label>
                  –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏
                  <select id="school-weekday">
                    <option value="1">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</option>
                    <option value="2">–í—Ç–æ—Ä–Ω–∏–∫</option>
                    <option value="3">–°—Ä–µ–¥–∞</option>
                    <option value="4">–ß–µ—Ç–≤–µ—Ä–≥</option>
                    <option value="5">–ü—è—Ç–Ω–∏—Ü–∞</option>
                    <option value="6">–°—É–±–±–æ—Ç–∞</option>
                    <option value="7">–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ</option>
                  </select>
                </label>

                <label>
                  –ù–æ–º–µ—Ä —É—Ä–æ–∫–∞
                  <input type="number" id="school-lesson-number" min="1" max="10" placeholder="1, 2, 3">
                </label>

                <label>
                  –ü—Ä–µ–¥–º–µ—Ç
                  <input type="text" id="school-subject" placeholder="–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –†—É—Å—Å–∫–∏–π —è–∑—ã–∫...">
                </label>
              </div>

              <div style="margin-top:12px;">
                <button class="btn btn-primary btn-sm" id="school-add-btn">
                  + –î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 2.7. –ù–∞–π—Ç–∏ –∑–∞–Ω—è—Ç–∏—è -->
      <section id="search-section" class="parent-section">
        <div class="section-header">
          <h1 class="section-title">–ù–∞–π—Ç–∏ –∑–∞–Ω—è—Ç–∏—è</h1>
          <p class="section-subtitle">
            –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫—Ä—É–∂–∫–∏, –∞ –∑–∞—Ç–µ–º —É—Ç–æ—á–Ω–∏—Ç–µ –ø–æ–∏—Å–∫ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏.
          </p>
        </div>

        <div class="search-layout" style="display: flex; gap: 20px;">
          <aside class="split-card" style="width: 300px;">
            <h3>–§–∏–ª—å—Ç—Ä—ã</h3>

            <div class="filter-group">
              <label class="filter-label" for="filter-text">–û–±—ã—á–Ω—ã–π –ø–æ–∏—Å–∫</label>
              <div class="filter-row-inline" style="display: flex; gap: 8px;">
                <input id="filter-text"
                       class="filter-input"
                       type="text"
                       placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä—É–∂–∫–∞, —Ü–µ–Ω—Ç—Ä–∞ –∏–ª–∏ –∞–¥—Ä–µ—Å"
                       style="flex: 1;">
                <button class="btn btn-secondary btn-sm" id="simple-search-btn">
                  –ù–∞–π—Ç–∏
                </button>
              </div>
            </div>

            <div class="filter-group">
              <label class="filter-label" for="filter-city">–ì–æ—Ä–æ–¥</label>
              <input id="filter-city" class="filter-input" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å">
            </div>

            <div class="filter-group">
              <label class="filter-label" for="filter-age">–í–æ–∑—Ä–∞—Å—Ç —Ä–µ–±—ë–Ω–∫–∞</label>
              <input id="filter-age" class="filter-input" type="number" min="0" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 8">
            </div>

            <div class="filter-group">
              <label class="filter-label" for="filter-category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
              <select id="filter-category" class="filter-select">
                <option value="any">–õ—é–±–∞—è</option>
                <option value="—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ">–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ</option>
                <option value="—Å–ø–æ—Ä—Ç">–°–ø–æ—Ä—Ç</option>
                <option value="–Ω–∞—É–∫–∞">–ù–∞—É–∫–∞</option>
                <option value="—è–∑—ã–∫–∏">–Ø–∑—ã–∫–∏</option>
              </select>
            </div>

            <div class="filters-actions" style="margin-top: 16px;">
              <button class="btn btn-primary btn-sm" id="search-activities-btn">
                –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
              </button>
            </div>
          </aside>

          <section style="flex: 1;">
            <div class="search-header-line">
              <div>
                <h2>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è</h2>
                <p>–°–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –∫—Ä—É–∂–∫–∏, –∑–∞—Ç–µ–º ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º.</p>
              </div>
            </div>

            <div id="activities-results" class="activities-list">
              –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–Ω—è—Ç–∏–π...
            </div>
          </section>
        </div>
      </section>

      <!-- 2.2. –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å -->
      <section id="profile-section" class="parent-section">
        <h2>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
        <div class="split-card">
          <div class="auth-field">
            <label>–ì–æ—Ä–æ–¥</label>
            <input type="text" id="profile-city">
          </div>
          <div class="auth-field">
            <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <input type="text" id="profile-phone">
          </div>
          <div class="auth-field">
            <label>Telegram</label>
            <input type="text" id="profile-telegram">
          </div>
          <div class="auth-field">
            <label>WhatsApp</label>
            <input type="text" id="profile-whatsapp">
          </div>
          <div class="auth-field">
            <label>–î–æ–ø. email</label>
            <input type="email" id="profile-extra-email">
          </div>
          <div class="auth-field">
            <label>–ê–≤–∞—Ç–∞—Ä (URL)</label>
            <input type="text" id="profile-avatar">
          </div>
          <button class="btn btn-primary btn-sm" id="profile-save-btn">
            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
          </button>
        </div>
      </section>

      <!-- 2.7. –ü–æ–º–æ—â—å -->
      <section id="help-section" class="parent-section">
        <div class="section-header">
          <h2 class="section-title">–ü–æ–º–æ—â—å</h2>
          <p class="section-subtitle">
            –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ —Ä–æ–¥–∏—Ç–µ–ª—è –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏.
          </p>
        </div>

        <div class="split-cards" style="display: flex; gap: 20px; flex-wrap: wrap;">
          <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è -->
          <div class="split-card" style="flex: 1; min-width: 300px;">
            <h3>–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ª–∏—á–Ω—ã–º –∫–∞–±–∏–Ω–µ—Ç–æ–º</h3>
            <ol class="split-card-steps">
              <li>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É ¬´–ú–æ–∏ –¥–µ—Ç–∏¬ª –∏ –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ—Ñ–∏–ª–∏ –≤—Å–µ—Ö –¥–µ—Ç–µ–π (–§–ò–û, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, —Ñ–æ—Ç–æ).</li>
              <li>–í–æ –≤–∫–ª–∞–¥–∫–µ ¬´–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ¬ª —á–µ—Ä–µ–∑ –±–ª–æ–∫ ¬´–®–∫–æ–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ¬ª –≤–Ω–µ—Å–∏—Ç–µ —É—Ä–æ–∫–∏ –ø–æ –¥–Ω—è–º –∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º.</li>
              <li>–í–æ –≤–∫–ª–∞–¥–∫–µ ¬´–ù–∞–π—Ç–∏ –∑–∞–Ω—è—Ç–∏—è¬ª –ø–æ–¥–±–µ—Ä–∏—Ç–µ –∫—Ä—É–∂–∫–∏ –ø–æ –≥–æ—Ä–æ–¥—É, –≤–æ–∑—Ä–∞—Å—Ç—É –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é.</li>
              <li>–ó–∞–ø–∏—à–∏—Ç–µ —Ä–µ–±—ë–Ω–∫–∞ –Ω–∞ –∫—Ä—É–∂–æ–∫ (—á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É ¬´–ü–æ–¥—Ä–æ–±–Ω–µ–µ¬ª / ¬´–ó–∞–ø–∏—Å–∞—Ç—å—Å—è¬ª –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –∑–∞–Ω—è—Ç–∏—è, –µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω –±—ç–∫–µ–Ω–¥).</li>
              <li>–°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±—â–∏–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º ¬´—à–∫–æ–ª–∞ + –∫—Ä—É–∂–∫–∏¬ª –≤–æ –≤–∫–ª–∞–¥–∫–µ ¬´–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ¬ª (–≤–∏–¥—ã –î–µ–Ω—å / –ù–µ–¥–µ–ª—è).</li>
              <li>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –≤–∞–∂–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏—è—Ö –∏ —Å–æ–±—ã—Ç–∏—è—Ö ‚Äî –æ–Ω–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–∏–∫–æ–Ω–∫–∞ –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–∞).</li>
              <li>–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤ –∫–∞—Ä—Ç–∏–Ω–∫—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º –∏–ª–∏ —Ä–∞—Å–ø–µ—á–∞—Ç—ã–≤–∞–π—Ç–µ.</li>
            </ol>
            <p class="section-subtitle">
              –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∞—à–µ–º –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ —Ä–æ–¥–∏—Ç–µ–ª—è.
            </p>
          </div>

          <!-- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ -->
          <div class="split-card" style="flex: 1; min-width: 300px;">
            <h3>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h3>
            <p class="section-subtitle">
              –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –∏–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏:
            </p>
            <ul class="split-card-steps">
              <li>E-mail: <a href="mailto:support@razvitime.demo">support@razvitime.demo</a></li>
              <li>–¢–µ–ª–µ—Ñ–æ–Ω: <a href="tel:+7-900-000-00-00">+7 (900) 000-00-00</a> (–±—É–¥–Ω–∏ 10:00‚Äì18:00)</li>
              <li>–ß–∞—Ç: –∫–Ω–æ–ø–∫–∞ ¬´–ù–∞–ø–∏—Å–∞—Ç—å –≤ —á–∞—Ç¬ª –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ, –∫–∞–∫ –≤–∏–¥–∂–µ—Ç).</li>
            </ul>
            <p class="section-subtitle">
              –í —Å–æ–æ–±—â–µ–Ω–∏–∏ —É–¥–æ–±–Ω–æ —Å—Ä–∞–∑—É —É–∫–∞–∑–∞—Ç—å –§–ò–û —Ä–µ–±—ë–Ω–∫–∞, –≥–æ—Ä–æ–¥ –∏ –∫—Ä–∞—Ç–∫–æ –æ–ø–∏—Å–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É ‚Äî —Ç–∞–∫ –º—ã –±—ã—Å—Ç—Ä–µ–µ –ø–æ–º–æ–∂–µ–º.
            </p>
          </div>
        </div>
      </section>

    </section>
  </div>
</main>

<footer class="app-footer">
  <div class="container app-footer-inner">
    <div>¬© 2025 –†–∞–∑–≤–∏–¢–∞–π–º.</div>
    <div class="footer-links">
      <a href="#">–û –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ</a>
      <a href="#">–î–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π</a>
      <a href="#">–î–ª—è —Ü–µ–Ω—Ç—Ä–æ–≤</a>
      <a href="#">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    </div>
  </div>
</footer>

<script>
// –í–°–¢–†–û–ï–ù–ù–´–ô JavaScript –î–õ–Ø –î–ï–ú–û –†–ï–ñ–ò–ú–ê
document.addEventListener("DOMContentLoaded", () => {
  console.log('‚úÖ Parent page loaded in DEMO mode');
  
  // –î–µ–º–æ –¥–∞–Ω–Ω—ã–µ
  const DEMO_PARENT = {
    name: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    city: "–°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å",
    phone: "+7-999-000-00-00",
    telegram: "@ivanov",
    whatsapp: "+7-999-000-00-00",
    extra_email: "ivan.backup@mail.ru",
    avatar_url: ""
  };
  
  let DEMO_KIDS = [
    {
      id: 1,
      full_name: "–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞",
      birth_date: "2016-05-10",
      gender: "female",
      photo_url: "",
      age: 8
    },
    {
      id: 2,
      full_name: "–ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤",
      birth_date: "2019-09-22",
      gender: "male",
      photo_url: "",
      age: 5
    }
  ];
  
  const DEMO_ACTIVITIES = [
    {
      id: 1,
      center_id: 1,
      center_name: "–î–µ–º–æ –¶–µ–Ω—Ç—Ä —Ä–∞–∑–≤–∏—Ç–∏—è –¥–µ—Ç–µ–π",
      title: "–¢–≤–æ—Ä—á–µ—Å–∫–∞—è –º–∞—Å—Ç–µ—Ä—Å–∫–∞—è",
      category: "—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ",
      description: "–†–∏—Å–æ–≤–∞–Ω–∏–µ, –ª–µ–ø–∫–∞ –∏ –ø–æ–¥–µ–ª–∫–∏ –¥–ª—è –¥–µ—Ç–µ–π 6‚Äì10 –ª–µ—Ç.",
      min_age: 6,
      max_age: 10,
      price: "–¶–µ–Ω–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É",
      city: "–°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å",
      address: "—É–ª. –ü—É—à–∫–∏–Ω–∞, 10"
    },
    {
      id: 2,
      center_id: 1,
      center_name: "–î–µ–º–æ –¶–µ–Ω—Ç—Ä —Ä–∞–∑–≤–∏—Ç–∏—è –¥–µ—Ç–µ–π",
      title: "–ì–∏–º–Ω–∞—Å—Ç–∏–∫–∞ –¥–ª—è –¥–µ—Ç–µ–π",
      category: "—Å–ø–æ—Ä—Ç",
      description: "–û–±—â–∞—è —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ —Ä–∞—Å—Ç—è–∂–∫–∞.",
      min_age: 5,
      max_age: 9,
      price: "1500 —Ä—É–±/–º–µ—Å",
      city: "–°–∏–º—Ñ–µ—Ä–æ–ø–æ–ª—å",
      address: "—É–ª. –ü—É—à–∫–∏–Ω–∞, 10"
    }
  ];
  
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  init();
  
  function init() {
    setupTabs();
    loadDashboard();
    loadKids();
    setupKidsForm();
    setupSearch();
    loadProfile();
    setupProfileSave();
    loadSchoolLessons();
    setupScheduleControls();
    setupSchoolForm();
    setupNotificationsBell();
    
    // –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞
    const logoutBtn = document.getElementById("logout-btn");
    if (logoutBtn) {
      logoutBtn.addEventListener("click", () => {
        localStorage.removeItem("razvitime_user");
        window.location.href = "index.html";
      });
    }
  }
  
  function setupTabs() {
    const tabButtons = document.querySelectorAll(".tab-btn");
    const sections = document.querySelectorAll(".parent-section");
    
    tabButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∏ —Å–µ–∫—Ü–∏–π
        tabButtons.forEach(b => b.classList.remove("active"));
        sections.forEach(s => s.classList.remove("active"));
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–µ
        btn.classList.add("active");
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å–µ–∫—Ü–∏—é
        const sectionId = btn.getAttribute("data-section");
        const section = document.getElementById(sectionId);
        if (section) {
          section.classList.add("active");
          
          // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
          switch(sectionId) {
            case 'dashboard-section':
              loadDashboard();
              break;
            case 'kids-section':
              loadKids();
              break;
            case 'schedule-section':
              loadSchoolLessons();
              break;
            case 'search-section':
              setupSearch();
              break;
            case 'profile-section':
              loadProfile();
              break;
          }
        }
      });
    });
    
    // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–µ—Ä–≤—É—é –≤–∫–ª–∞–¥–∫—É
    if (tabButtons.length > 0) {
      tabButtons[0].click();
    }
  }
  
  function loadDashboard() {
    const greetingBox = document.getElementById("parent-greeting");
    const upcomingBox = document.getElementById("parent-upcoming");
    
    if (greetingBox) {
      greetingBox.innerHTML = `
        <div class="dashboard-hero">
          <h2 style="margin-bottom:8px; color: #2c4a78;">
            –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, ${DEMO_PARENT.name}!
          </h2>
          <p style="color: #666; margin-bottom: 16px;">
            –†–∞–∑–≤–∏–¢–∞–π–º ‚Äî —ç—Ç–æ –æ–Ω–ª–∞–π–Ω-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π: –∑–¥–µ—Å—å –º–æ–∂–Ω–æ
            –≤–µ—Å—Ç–∏ —à–∫–æ–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–µ—Ç–µ–π –Ω–∞ –∫—Ä—É–∂–∫–∏ –∏
            –ø–æ–ª—É—á–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∑–∞–Ω—è—Ç–∏—è—Ö –≤ –æ–¥–Ω–æ–º —É–¥–æ–±–Ω–æ–º –º–µ—Å—Ç–µ.
          </p>
          
          <div style="background: #f8f9fa; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
            <h3 style="margin-top: 0; color: #2c4a78;">–ß—Ç–æ —É–º–µ–µ—Ç –∫–∞–±–∏–Ω–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è</h3>
            <ul style="padding-left: 20px; color: #666;">
              <li>–î–æ–±–∞–≤–ª—è—Ç—å –¥–µ—Ç–µ–π –∏ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.</li>
              <li>–í–µ—Å—Ç–∏ —à–∫–æ–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º –∏ —É—Ä–æ–∫–∞–º.</li>
              <li>–ü–æ–¥–±–∏—Ä–∞—Ç—å –∫—Ä—É–∂–∫–∏ –∏ —Å–µ–∫—Ü–∏–∏ –≤ –≥–æ—Ä–æ–¥–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ù–∞–π—Ç–∏ –∑–∞–Ω—è—Ç–∏—è¬ª.</li>
              <li>–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ä–µ–±—ë–Ω–∫–∞ –≤ –≥—Ä—É–ø–ø—ã —Ü–µ–Ω—Ç—Ä–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞—è–≤–∫–∏).</li>
              <li>–í–∏–¥–µ—Ç—å –æ–±—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ ¬´—à–∫–æ–ª–∞ + –∫—Ä—É–∂–∫–∏¬ª –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏.</li>
              <li>–ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∑–∞–Ω—è—Ç–∏—è—Ö.</li>
              <li>–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–±—ë–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫—É –¥–ª—è —Ä–∞—Å–ø–µ—á–∞—Ç–∫–∏ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –±–∞–±—É—à–∫–µ üòä</li>
            </ul>
          </div>
        </div>
      `;
    }
    
    if (upcomingBox) {
      upcomingBox.innerHTML = `
        <ul class="upcoming-list">
          <li>
            <strong>–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞</strong> ¬∑ –¢–≤–æ—Ä—á–µ—Å–∫–∞—è –º–∞—Å—Ç–µ—Ä—Å–∫–∞—è
            <br>
            2025-02-20, 17:00 ¬∑ –î–µ–º–æ –¶–µ–Ω—Ç—Ä —Ä–∞–∑–≤–∏—Ç–∏—è –¥–µ—Ç–µ–π
          </li>
          <li>
            <strong>–ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤</strong> ¬∑ –ì–∏–º–Ω–∞—Å—Ç–∏–∫–∞ –¥–ª—è –¥–µ—Ç–µ–π
            <br>
            2025-02-21, 16:00 ¬∑ –î–µ–º–æ –¶–µ–Ω—Ç—Ä —Ä–∞–∑–≤–∏—Ç–∏—è –¥–µ—Ç–µ–π
          </li>
        </ul>
      `;
    }
  }
  
  function loadKids() {
    const list = document.getElementById("kids-list");
    if (!list) return;
    
    if (DEMO_KIDS.length === 0) {
      list.innerHTML = "<p>–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–µ—Ç–µ–π.</p>";
      return;
    }
    
    list.innerHTML = DEMO_KIDS
      .map((kid) => {
        const age = kid.birth_date ? calcAge(kid.birth_date) : "‚Äî";
        return `
        <div class="split-card">
          <div style="display:flex; gap:12px;">
            <div>
              ${
                kid.photo_url
                  ? `<img src="${kid.photo_url}" alt="${kid.full_name}" style="width:60px;height:60px;border-radius:50%;object-fit:cover;">`
                  : `<div style="width:60px;height:60px;border-radius:50%;background:#e4f6e4;display:flex;align-items:center;justify-content:center;font-size:24px;">${
                      kid.full_name[0] || "?"
                    }</div>`
              }
            </div>
            <div>
              <h3 style="margin: 0 0 4px 0;">${kid.full_name}</h3>
              <p style="color: #666; margin: 0;">–í–æ–∑—Ä–∞—Å—Ç: ${age}</p>
            </div>
          </div>
          <div style="display: flex; gap: 8px; margin-top: 12px;">
            <button class="btn btn-secondary btn-sm" onclick="window.editKidDemo(${kid.id}, '${kid.full_name.replace(/'/g, "\\'")}', '${kid.birth_date || ""}', '${kid.gender || ""}', '${kid.photo_url || ""}')">
              –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
            </button>
            <button class="btn btn-outline btn-sm" onclick="window.deleteKidDemo(${kid.id})">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
        </div>`;
      })
      .join("");
  }
  
  window.editKidDemo = function(id, name, birth, gender, photo) {
    window.editingKidId = id;
    const formBlock = document.getElementById("kid-form-block");
    const title = document.getElementById("kid-form-title");
    
    title.textContent = "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–±—ë–Ω–∫–∞";
    document.getElementById("kid-name").value = name || "";
    document.getElementById("kid-birth").value = birth || "";
    document.getElementById("kid-gender").value = gender || "";
    document.getElementById("kid-photo").value = photo || "";
    formBlock.style.display = "block";
  };
  
  window.deleteKidDemo = function(id) {
    if (!confirm("–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞?")) return;
    DEMO_KIDS = DEMO_KIDS.filter(k => k.id !== id);
    loadKids();
  };
  
  function setupKidsForm() {
    const addBtn = document.getElementById("add-kid-btn");
    const formBlock = document.getElementById("kid-form-block");
    const title = document.getElementById("kid-form-title");
    const saveBtn = document.getElementById("kid-save-btn");
    const cancelBtn = document.getElementById("kid-cancel-btn");
    
    if (!addBtn) return;
    
    addBtn.addEventListener("click", () => {
      window.editingKidId = null;
      title.textContent = "–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±—ë–Ω–∫–∞";
      document.getElementById("kid-name").value = "";
      document.getElementById("kid-birth").value = "";
      document.getElementById("kid-gender").value = "";
      document.getElementById("kid-photo").value = "";
      formBlock.style.display = "block";
    });
    
    cancelBtn.addEventListener("click", () => {
      formBlock.style.display = "none";
    });
    
    saveBtn.addEventListener("click", () => {
      const full_name = document.getElementById("kid-name").value.trim();
      const birth_date = document.getElementById("kid-birth").value || null;
      const gender = document.getElementById("kid-gender").value || null;
      const photo_url = document.getElementById("kid-photo").value || null;
      
      if (!full_name) {
        alert("–í–≤–µ–¥–∏—Ç–µ –∏–º—è —Ä–µ–±—ë–Ω–∫–∞");
        return;
      }
      
      if (window.editingKidId === null) {
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞
        const newKid = {
          id: DEMO_KIDS.length > 0 ? Math.max(...DEMO_KIDS.map(k => k.id)) + 1 : 1,
          full_name,
          birth_date,
          gender,
          photo_url
        };
        DEMO_KIDS.push(newKid);
        alert("–†–µ–±—ë–Ω–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω");
      } else {
        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
        const kidIndex = DEMO_KIDS.findIndex(k => k.id === window.editingKidId);
        if (kidIndex !== -1) {
          DEMO_KIDS[kidIndex] = {
            ...DEMO_KIDS[kidIndex],
            full_name,
            birth_date,
            gender,
            photo_url
          };
          alert("–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã");
        }
      }
      
      formBlock.style.display = "none";
      loadKids();
    });
  }
  
  function calcAge(dateStr) {
    if (!dateStr) return "‚Äî";
    const birth = new Date(dateStr);
    const now = new Date();
    let age = now.getFullYear() - birth.getFullYear();
    const mDiff = now.getMonth() - birth.getMonth();
    if (mDiff < 0 || (mDiff === 0 && now.getDate() < birth.getDate())) {
      age--;
    }
    return `${age} –ª–µ—Ç`;
  }
  
  function setupSearch() {
    const btn = document.getElementById("search-activities-btn");
    const simpleBtn = document.getElementById("simple-search-btn");
    const textInput = document.getElementById("filter-text");
    
    function runSearch() {
      const text = textInput ? textInput.value.trim().toLowerCase() : "";
      const city = document.getElementById("filter-city").value.trim().toLowerCase();
      const age = document.getElementById("filter-age").value;
      const category = document.getElementById("filter-category").value;
      
      const box = document.getElementById("activities-results");
      if (!box) return;
      
      box.textContent = "–ü–æ–∏—Å–∫...";
      
      // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
      let filtered = DEMO_ACTIVITIES;
      
      if (text) {
        filtered = filtered.filter(a => 
          a.title.toLowerCase().includes(text) || 
          a.description.toLowerCase().includes(text) ||
          a.center_name.toLowerCase().includes(text)
        );
      }
      
      if (city) {
        filtered = filtered.filter(a => a.city.toLowerCase().includes(city));
      }
      
      if (age) {
        const ageNum = parseInt(age);
        filtered = filtered.filter(a => 
          ageNum >= a.min_age && ageNum <= a.max_age
        );
      }
      
      if (category && category !== "any") {
        filtered = filtered.filter(a => a.category === category);
      }
      
      setTimeout(() => {
        if (!filtered.length) {
          box.textContent = "–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã.";
          return;
        }
        
        box.innerHTML = filtered
          .map(
            (a) => `
            <article class="activity-card">
              <div style="flex: 1;">
                <h3 style="margin: 0 0 8px 0;">${a.title}</h3>
                <div style="color: #52a655; margin-bottom: 8px;">
                  <button class="link-as-button" onclick="alert('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ü–µ–Ω—Ç—Ä–µ: ${a.center_name}')">
                    ${a.center_name}
                  </button> ¬∑ ${a.city}
                </div>
                <div style="display: flex; gap: 8px; margin: 8px 0;">
                  <span class="tag-chip">${a.category || "–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"}</span>
                  <span class="tag-chip">${a.min_age}‚Äì${a.max_age} –ª–µ—Ç</span>
                </div>
                <p style="color: #666; margin: 8px 0;">${a.description}</p>
              </div>
              <div style="text-align: right; margin-left: 16px;">
                <div style="font-weight: bold; margin-bottom: 8px;">${a.price}</div>
                <div>
                  <button class="btn btn-primary btn-sm" onclick="alert('–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∑–∞–Ω—è—Ç–∏—è: ${a.title}\\n\\n–¶–µ–Ω–∞: ${a.price}\\n–û–ø–∏—Å–∞–Ω–∏–µ: ${a.description}')">
                    –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                  </button>
                </div>
              </div>
            </article>`
          )
          .join("");
      }, 300);
    }
    
    if (btn) {
      btn.addEventListener("click", runSearch);
    }
    
    if (simpleBtn) {
      simpleBtn.addEventListener("click", runSearch);
    }
    
    if (textInput) {
      textInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          runSearch();
        }
      });
    }
    
    // –ü–ï–†–í–´–ô –ó–ê–ü–£–°–ö - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –∑–∞–Ω—è—Ç–∏—è
    runSearch();
  }
  
  function loadProfile() {
    document.getElementById("profile-city").value = DEMO_PARENT.city || "";
    document.getElementById("profile-phone").value = DEMO_PARENT.phone || "";
    document.getElementById("profile-telegram").value = DEMO_PARENT.telegram || "";
    document.getElementById("profile-whatsapp").value = DEMO_PARENT.whatsapp || "";
    document.getElementById("profile-extra-email").value = DEMO_PARENT.extra_email || "";
    document.getElementById("profile-avatar").value = DEMO_PARENT.avatar_url || "";
  }
  
  function setupProfileSave() {
    const btn = document.getElementById("profile-save-btn");
    if (!btn) return;
    btn.addEventListener("click", () => {
      DEMO_PARENT.city = document.getElementById("profile-city").value.trim();
      DEMO_PARENT.phone = document.getElementById("profile-phone").value.trim();
      DEMO_PARENT.telegram = document.getElementById("profile-telegram").value.trim();
      DEMO_PARENT.whatsapp = document.getElementById("profile-whatsapp").value.trim();
      DEMO_PARENT.extra_email = document.getElementById("profile-extra-email").value.trim();
      DEMO_PARENT.avatar_url = document.getElementById("profile-avatar").value.trim();
      
      alert("–ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω (–¥–µ–º–æ-—Ä–µ–∂–∏–º)");
    });
  }
  
  function loadSchoolLessons() {
    // –ü—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
    const box = document.getElementById("school-lessons-list");
    if (box) {
      box.textContent = "–®–∫–æ–ª—å–Ω—ã–µ —É—Ä–æ–∫–∏ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ –æ–±—â–µ–π —Ç–∞–±–ª–∏—Ü–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤—ã—à–µ.";
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
    renderScheduleTable();
  }
  
  function renderScheduleTable() {
    const wrapper = document.getElementById("schedule-table-wrapper");
    if (!wrapper) return;
    
    wrapper.innerHTML = `
      <h3 style="margin-top:0;margin-bottom:8px;">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é</h3>
      <div style="overflow-x: auto;">
        <table class="schedule-table">
          <thead>
            <tr>
              <th>–£—Ä–æ–∫ / –±–ª–æ–∫</th>
              <th>–ü–Ω</th>
              <th>–í—Ç</th>
              <th>–°—Ä</th>
              <th>–ß—Ç</th>
              <th>–ü—Ç</th>
              <th>–°–±</th>
              <th>–í—Å</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="schedule-lesson-num">1</td>
              <td class="schedule-cell">
                <div class="schedule-badge schedule-badge-school" style="background:#c6f1a9;">
                  <div class="schedule-badge-subject">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</div>
                  <div class="schedule-badge-kid">–ú–∞—Ä–∏—è</div>
                </div>
              </td>
              <td class="schedule-cell schedule-cell-empty"></td>
              <td class="schedule-cell schedule-cell-empty"></td>
              <td class="schedule-cell schedule-cell-empty"></td>
              <td class="schedule-cell schedule-cell-empty"></td>
              <td class="schedule-cell schedule-cell-empty"></td>
              <td class="schedule-cell schedule-cell-empty"></td>
            </tr>
            <tr>
              <td class="schedule-lesson-num">–ö—Ä—É–∂–∫–∏</td>
              <td class="schedule-cell schedule-cell-empty"></td>
              <td class="schedule-cell">
                <div class="schedule-badge schedule-badge-extra" style="border-color:#c6f1a9;">
                  <div class="schedule-badge-subject">–¢–≤–æ—Ä—á–µ—Å–∫–∞—è –º–∞—Å—Ç–µ—Ä—Å–∫–∞—è</div>
                  <div class="schedule-badge-kid">–ú–∞—Ä–∏—è ¬∑ 17:00-18:00</div>
                  <div class="schedule-badge-center">–î–µ–º–æ –¶–µ–Ω—Ç—Ä —Ä–∞–∑–≤–∏—Ç–∏—è –¥–µ—Ç–µ–π</div>
                </div>
              </td>
              <td class="schedule-cell">
                <div class="schedule-badge schedule-badge-extra" style="border-color:#ffc7a6;">
                  <div class="schedule-badge-subject">–ì–∏–º–Ω–∞—Å—Ç–∏–∫–∞ –¥–ª—è –¥–µ—Ç–µ–π</div>
                  <div class="schedule-badge-kid">–ê–ª–µ–∫—Å–µ–π ¬∑ 16:00-17:00</div>
                  <div class="schedule-badge-center">–î–µ–º–æ –¶–µ–Ω—Ç—Ä —Ä–∞–∑–≤–∏—Ç–∏—è –¥–µ—Ç–µ–π</div>
                </div>
              </td>
              <td class="schedule-cell schedule-cell-empty"></td>
              <td class="schedule-cell schedule-cell-empty"></td>
              <td class="schedule-cell schedule-cell-empty"></td>
              <td class="schedule-cell schedule-cell-empty"></td>
            </tr>
          </tbody>
        </table>
      </div>
    `;
  }
  
  function setupScheduleControls() {
    const kidFilter = document.getElementById("schedule-kid-filter");
    const viewButtons = document.querySelectorAll(".view-btn");
    const typeRadios = document.querySelectorAll('input[name="schedule-type"]');
    
    if (kidFilter) {
      kidFilter.innerHTML = `
        <option value="all">–í—Å–µ –¥–µ—Ç–∏</option>
        ${DEMO_KIDS.map(k => `<option value="${k.id}">${k.full_name}</option>`).join('')}
      `;
    }
    
    if (viewButtons) {
      viewButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          viewButtons.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          renderScheduleTable();
        });
      });
    }
    
    if (typeRadios) {
      typeRadios.forEach(r => {
        r.addEventListener("change", () => {
          renderScheduleTable();
        });
      });
    }
    
    // –ö–Ω–æ–ø–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞
    const exportBtn = document.getElementById("export-schedule-btn");
    if (exportBtn) {
      exportBtn.addEventListener("click", () => {
        alert("–í –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ —ç–∫—Å–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É html2canvas.");
      });
    }
  }
  
  function setupSchoolForm() {
    const toggleBtn = document.getElementById("toggle-school-form-btn");
    const addBtn = document.getElementById("school-add-btn");
    const container = document.getElementById("school-form-container");
    
    if (toggleBtn && container) {
      toggleBtn.addEventListener("click", () => {
        container.style.display = container.style.display === "block" ? "none" : "block";
      });
    }
    
    if (addBtn) {
      addBtn.addEventListener("click", () => {
        const kidSelect = document.getElementById("school-kid-select");
        const subject = document.getElementById("school-subject").value.trim();
        
        if (!subject) {
          alert("–í–≤–µ–¥–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç");
          return;
        }
        
        alert(`–£—Ä–æ–∫ "${subject}" –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–¥–µ–º–æ-—Ä–µ–∂–∏–º)`);
        document.getElementById("school-subject").value = "";
      });
    }
  }
  
  function setupNotificationsBell() {
    const bell = document.getElementById("notifications-bell");
    const dropdown = document.getElementById("notifications-dropdown");
    const badge = document.getElementById("notifications-badge");
    
    if (!bell || !dropdown) return;
    
    const demoReminders = [
      {
        id: 1,
        title: "–ó–∞–≤—Ç—Ä–∞ —É –ú–∞—Ä–∏–∏ —Ç–≤–æ—Ä—á–µ—Å–∫–∞—è –º–∞—Å—Ç–µ—Ä—Å–∫–∞—è",
        time_label: "–ó–∞–≤—Ç—Ä–∞ –≤ 17:00",
        center_name: "–î–µ–º–æ –¶–µ–Ω—Ç—Ä —Ä–∞–∑–≤–∏—Ç–∏—è –¥–µ—Ç–µ–π",
        note: "–ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤–∑—è—Ç—å —Å–º–µ–Ω–Ω—É—é –æ–±—É–≤—å –∏ —Ñ–∞—Ä—Ç—É–∫"
      }
    ];
    
    function renderNotifications() {
      dropdown.innerHTML = demoReminders
        .map(
          (r) => `
          <div class="notification-item" style="padding: 12px; border-bottom: 1px solid #eee;">
            <div style="font-weight: bold; margin-bottom: 4px;">${r.title}</div>
            <div style="color: #666; font-size: 14px; margin-bottom: 8px;">
              ${r.time_label}${r.center_name ? " ¬∑ " + r.center_name : ""}
            </div>
            ${r.note ? `<div style="color: #666; font-size: 14px; margin-bottom: 8px;">${r.note}</div>` : ""}
            <div>
              <button class="btn btn-outline btn-sm" data-reminder-id="${r.id}" style="font-size: 12px;">
                –ó–∞–∫—Ä—ã—Ç—å
              </button>
            </div>
          </div>
        `
        )
        .join("");
      
      if (badge) {
        badge.hidden = demoReminders.length === 0;
        badge.textContent = demoReminders.length;
      }
      
      dropdown.querySelectorAll("button[data-reminder-id]").forEach((btn) => {
        btn.addEventListener("click", () => {
          alert("–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ (–¥–µ–º–æ-—Ä–µ–∂–∏–º)");
          dropdown.style.display = "none";
        });
      });
    }
    
    renderNotifications();
    
    bell.addEventListener("click", () => {
      dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    });
    
    document.addEventListener("click", (e) => {
      if (!e.target.closest(".nav-notifications") && dropdown.style.display === "block") {
        dropdown.style.display = "none";
      }
    });
  }
});
</script>

</body>
</html>